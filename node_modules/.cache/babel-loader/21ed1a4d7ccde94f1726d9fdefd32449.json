{"ast":null,"code":"var _jsxFileName = \"/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { FormControl } from \"@material-ui/core\";\nimport { Input } from \"@material-ui/core\";\nimport { InputLabel } from \"@material-ui/core\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  typography: {\n    padding: theme.spacing(1.5),\n    backgroundColor: \"#464646\",\n    color: \"white\",\n    fontSize: \"14px\"\n  }\n}));\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    updateLoginStatus\n  } = _ref;\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const setParentAnchorElNull = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setParentAnchorElNull();\n  };\n\n  useEffect(() => {\n    setAnchorEl(anchorEl);\n  }, [anchorEl]);\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [usernameIsRequired, setUsernameIsRequired] = useState(false);\n  const [passwordIsRequired, setPasswordIsRequired] = useState(false);\n\n  function handleLoginRequest(e) {\n    e.preventDefault(); //\n\n    if (username === \"\") {\n      setAnchorEl(e.currentTarget.parentNode.children[0]);\n      return;\n    } // if (password === \"\") {\n    //   setAnchorEl(e.currentTarget.parentNode.children[2]);\n    //   return;\n    // }\n    // if(usernameIsRequired) {\n    //   setAnchorEl(e.currentTarget.parentNode.children[0]);\n    //   return;\n    // }\n\n\n    if (passwordIsRequired) {\n      setAnchorEl(e.currentTarget.parentNode.children[2]);\n      return;\n    } //\n\n\n    setUsernameIsRequired(username === \"\" ? true : false);\n    setPasswordIsRequired(password === \"\" ? true : false);\n    const userCredentials = window.btoa(username + \":\" + password);\n    const loginRequest = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        authorization: \"Basic \" + userCredentials\n      }\n    };\n    fetch(\"/api/v1/auth/login\", loginRequest).then(response => {\n      if (!response.ok) {\n        return response.json();\n      }\n\n      return response;\n    }).then(response => {\n      if (response.headers) {\n        sessionStorage.setItem(\"access-token\", response.headers.get(\"access-token\"));\n        updateLoginStatus(true);\n      } else {\n        console.log(response.body);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"userName\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"username\",\n          value: username,\n          onChange: _ref2 => {\n            let {\n              target\n            } = _ref2;\n            return setUsername(target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), usernameIsRequired && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required-error\",\n            children: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"password\",\n          value: password,\n          onChange: _ref3 => {\n            let {\n              target\n            } = _ref3;\n            return setPassword(target.value);\n          },\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), passwordIsRequired && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required-error\",\n            children: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: e => {\n          handleLoginRequest(e);\n        },\n        style: {\n          float: \"center\"\n        },\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Popover, {\n        id: id,\n        open: open,\n        anchorEl: anchorEl,\n        onClose: handleClose,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.typography,\n          children: \"Please fill out this field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"C7tqqv3vVgjaugPIvd/SNKmcX10=\", false, function () {\n  return [useStyles];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Button","FormControl","Input","InputLabel","FormHelperText","Popover","Typography","makeStyles","useStyles","theme","typography","padding","spacing","backgroundColor","color","fontSize","Login","updateLoginStatus","anchorEl","setAnchorEl","setParentAnchorElNull","handleClose","open","Boolean","id","undefined","classes","username","setUsername","password","setPassword","usernameIsRequired","setUsernameIsRequired","passwordIsRequired","setPasswordIsRequired","handleLoginRequest","e","preventDefault","currentTarget","parentNode","children","userCredentials","window","btoa","loginRequest","method","headers","Accept","authorization","fetch","then","response","ok","json","sessionStorage","setItem","get","console","log","body","textAlign","target","value","float","vertical","horizontal"],"sources":["/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { FormControl } from \"@material-ui/core\";\nimport { Input } from \"@material-ui/core\";\nimport { InputLabel } from \"@material-ui/core\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  typography: {\n    padding: theme.spacing(1.5),\n    backgroundColor: \"#464646\",\n    color: \"white\",\n    fontSize: \"14px\",\n  },\n}));\n\nconst Login = ({ updateLoginStatus }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const setParentAnchorElNull = () => {\n    setAnchorEl(null);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n    setParentAnchorElNull();\n  };\n\n  useEffect(() => {\n    setAnchorEl(anchorEl);\n  }, [anchorEl]);\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n  const classes = useStyles();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [usernameIsRequired, setUsernameIsRequired] = useState(false);\n  const [passwordIsRequired, setPasswordIsRequired] = useState(false);\n\n  function handleLoginRequest(e) {\n    e.preventDefault();\n    //\n    if (username === \"\") {\n      setAnchorEl(e.currentTarget.parentNode.children[0]);\n      return;\n    }\n    // if (password === \"\") {\n    //   setAnchorEl(e.currentTarget.parentNode.children[2]);\n    //   return;\n    // }\n    // if(usernameIsRequired) {\n    //   setAnchorEl(e.currentTarget.parentNode.children[0]);\n    //   return;\n    // }\n    if (passwordIsRequired) {\n      setAnchorEl(e.currentTarget.parentNode.children[2]);\n      return;\n    }\n    //\n    setUsernameIsRequired(username === \"\" ? true : false);\n    setPasswordIsRequired(password === \"\" ? true : false);\n    const userCredentials = window.btoa(username + \":\" + password);\n    const loginRequest = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        authorization: \"Basic \" + userCredentials,\n      },\n    };\n    fetch(\"/api/v1/auth/login\", loginRequest)\n      .then((response) => {\n        if (!response.ok) {\n          return response.json();\n        }\n        return response;\n      })\n      .then((response) => {\n        if (response.headers) {\n          sessionStorage.setItem(\n            \"access-token\",\n            response.headers.get(\"access-token\")\n          );\n          updateLoginStatus(true);\n        } else {\n          console.log(response.body);\n        }\n      });\n  }\n\n  return (\n    <div>\n      <div style={{ textAlign: \"center\" }}>\n        <FormControl required>\n          <InputLabel htmlFor=\"userName\">Username</InputLabel>\n          <Input\n            id=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n          />\n          {usernameIsRequired && (\n            <FormHelperText>\n              <span className=\"required-error\">required</span>\n            </FormHelperText>\n          )}\n        </FormControl>\n        <br />\n        <FormControl required>\n          <InputLabel htmlFor=\"password\">Password</InputLabel>\n          <Input\n            id=\"password\"\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n            type=\"password\"\n          />\n          {passwordIsRequired && (\n            <FormHelperText>\n              <span className=\"required-error\">required</span>\n            </FormHelperText>\n          )}\n        </FormControl>\n        <br />\n        <br />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={(e) => {\n            handleLoginRequest(e);\n          }}\n          style={{ float: \"center\" }}\n        >\n          LOGIN\n        </Button>\n        <Popover\n          id={id}\n          open={open}\n          anchorEl={anchorEl}\n          onClose={handleClose}\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"center\",\n          }}\n          transformOrigin={{\n            vertical: \"top\",\n            horizontal: \"center\",\n          }}\n        >\n          <Typography className={classes.typography}>\n            Please fill out this field\n          </Typography>\n        </Popover>\n      </div>\n    </div>\n  );\n};\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}