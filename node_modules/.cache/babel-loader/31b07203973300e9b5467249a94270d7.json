{"ast":null,"code":"var _jsxFileName = \"/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/doctorList/BookAppointment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Paper, CardHeader, CardContent, TextField, FormControl, InputLabel, Select, MenuItem, Button, FormHelperText } from \"@material-ui/core\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookAppointment = _ref => {\n  _s();\n\n  let {\n    doctor,\n    getUserAppointments,\n    userAppointments,\n    closeModalHandler\n  } = _ref;\n  const currentUserAppointments = userAppointments;\n  const [selectDate, setSelectDate] = useState(dateFormatter(new Date()));\n  const [selectSlot, setSelectSlot] = useState(\"\");\n  const [slotsAvailable, setSlotsAvailable] = useState([\"None\"]);\n  const [medicalHistory, setMedicalHistory] = useState(\"\");\n  const [symptoms, setSymptoms] = useState(\"\");\n  const [bookedSuccessfully, setBookedSuccessfully] = useState(false);\n  const [slotRequired, setSlotRequired] = useState(\"None\");\n\n  const dateChangeHandler = date => {\n    setSelectDate(dateFormatter(date));\n  };\n\n  const slotChangeHandler = event => {\n    setSelectSlot(event.target.value); //insert here\n  };\n\n  const getAvailableSlots = async () => {\n    const url = `http://localhost:8080/doctors${doctor.id}timeSlot?date=?${selectDate}`;\n\n    try {\n      const rawResponse = await fetch(url);\n\n      if (rawResponse.ok) {\n        const response = rawResponse.json();\n        setSlotsAvailable(response.timeSlot);\n      } else {\n        const error = new Error();\n        error.message = \"Some error Occured in fetching timeslots\";\n        throw error;\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const bookAppointmentHandler = async e => {\n    if (e) e.preventDefault();\n\n    if (selectSlot === null || selectSlot === \"\" || selectSlot === \"None\") {\n      setSlotRequired(\"Block\");\n      return;\n    }\n\n    const accessToken = sessionStorage.getItem(\"access-token\");\n    const userDetails = sessionStorage.getItem(\"user-info\"); // const email = userDetails.id;\n\n    if (accessToken === null || userDetails === null) {\n      alert(\"Please Login to Book an appointment\");\n      closeModalHandler();\n      return;\n    } // Check if user already has appointment for the same date-time\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookAppointment, \"6xKm+4tRpipuSAviWc09WlyU8Mk=\");\n\n_c = BookAppointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookAppointment\");","map":{"version":3,"names":["React","useState","useEffect","Paper","CardHeader","CardContent","TextField","FormControl","InputLabel","Select","MenuItem","Button","FormHelperText","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","BookAppointment","doctor","getUserAppointments","userAppointments","closeModalHandler","currentUserAppointments","selectDate","setSelectDate","dateFormatter","Date","selectSlot","setSelectSlot","slotsAvailable","setSlotsAvailable","medicalHistory","setMedicalHistory","symptoms","setSymptoms","bookedSuccessfully","setBookedSuccessfully","slotRequired","setSlotRequired","dateChangeHandler","date","slotChangeHandler","event","target","value","getAvailableSlots","url","id","rawResponse","fetch","ok","response","json","timeSlot","error","Error","message","alert","bookAppointmentHandler","e","preventDefault","accessToken","sessionStorage","getItem","userDetails"],"sources":["/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/doctorList/BookAppointment.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Paper,\n  CardHeader,\n  CardContent,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  FormHelperText,\n} from \"@material-ui/core\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nconst BookAppointment = ({\n  doctor,\n  getUserAppointments,\n  userAppointments,\n  closeModalHandler,\n}) => {\n  const currentUserAppointments = userAppointments;\n  const [selectDate, setSelectDate] = useState(dateFormatter(new Date()));\n  const [selectSlot, setSelectSlot] = useState(\"\");\n  const [slotsAvailable, setSlotsAvailable] = useState([\"None\"]);\n  const [medicalHistory, setMedicalHistory] = useState(\"\");\n  const [symptoms, setSymptoms] = useState(\"\");\n  const [bookedSuccessfully, setBookedSuccessfully] = useState(false);\n  const [slotRequired, setSlotRequired] = useState(\"None\");\n\n  const dateChangeHandler = (date) => {\n    setSelectDate(dateFormatter(date));\n  };\n\n  const slotChangeHandler = (event) => {\n    setSelectSlot(event.target.value);\n    //insert here\n  };\n\n  const getAvailableSlots = async () => {\n    const url = `http://localhost:8080/doctors${doctor.id}timeSlot?date=?${selectDate}`;\n    try {\n      const rawResponse = await fetch(url);\n      if (rawResponse.ok) {\n        const response = rawResponse.json();\n        setSlotsAvailable(response.timeSlot);\n      } else {\n        const error = new Error();\n        error.message = \"Some error Occured in fetching timeslots\";\n        throw error;\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const bookAppointmentHandler = async (e) => {\n    if (e) e.preventDefault();\n\n    if (selectSlot === null || selectSlot === \"\" || selectSlot === \"None\") {\n      setSlotRequired(\"Block\");\n      return;\n    }\n\n    const accessToken = sessionStorage.getItem(\"access-token\");\n    const userDetails = sessionStorage.getItem(\"user-info\");\n    // const email = userDetails.id;\n\n    if (accessToken === null || userDetails === null) {\n      alert(\"Please Login to Book an appointment\");\n      closeModalHandler();\n      return;\n    }\n\n    // Check if user already has appointment for the same date-time\n  };\n\n  return (\n    <div>\n      <div></div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}