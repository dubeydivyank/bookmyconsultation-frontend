{"ast":null,"code":"var _jsxFileName = \"/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/appointment/Appointment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport RateAppointment from \"../appointment/RateAppointment\";\nimport { Paper, Typography, Button } from \"@material-ui/core\";\nimport Modal from \"react-modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement(document.getElementById(\"root\"));\nconst customStyles = {\n  content: {\n    width: \"50%\",\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    padding: \"0px\"\n  }\n};\n\nconst Appointment = _ref => {\n  _s();\n\n  let {\n    isUserLoggedIn\n  } = _ref;\n  const accessToken = sessionStorage.getItem(\"access-token\");\n  const emailId = sessionStorage.getItem(\"user-id\");\n  const [userAppointments, setUserAppointments] = useState([]);\n\n  const getUserAppointments = async () => {\n    const url = `http://localhost:8080/users/${emailId}/appointments`; // const accessToken = sessionStorage.getItem(\"access-token\");\n    //\n\n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    }).then(response => response.json()).then(response => {\n      selectedAppointment([...response]);\n    }); //\n\n    try {\n      const rawResponse = await fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n\n      if (rawResponse.ok) {\n        const response = await rawResponse.json();\n        setUserAppointments(response);\n      } else {\n        const error = new Error();\n        error.message = \"Some Error Occurred\";\n        throw error;\n      }\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  useEffect(() => {\n    if (accessToken !== \"\") {\n      getUserAppointments();\n    }\n  }, [emailId]); //////////\n\n  const [selectedAppointment, setSelectedAppointment] = useState(\"\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const toggleModalHandler = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isUserLoggedIn ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      component: \"h5\",\n      className: \"noLoginText\",\n      children: \"Login to see appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this) : userAppointments.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      component: \"h5\",\n      className: \"noLoginText\",\n      children: \"No Current Appointments to Show.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [userAppointments.map(appointment => /*#__PURE__*/_jsxDEV(Paper, {\n        className: \"appointmentContainer\",\n        variant: \"elevation\",\n        elevation: 3,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          className: \"hasTextBlack\",\n          component: \"h5\",\n          gutterBottom: true,\n          children: [\"Dr. \", appointment.doctorName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          className: \"hasTextBlack\",\n          children: [\"Date: \", appointment.appointmentDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          className: \"hasTextBlack\",\n          children: [\"Symptoms: \", appointment.symptoms]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          className: \"hasTextBlack\",\n          children: [\"priorMedicalHistory: \", appointment.priorMedicalHistory]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => {\n            setSelectedAppointment(appointment);\n            toggleModalHandler();\n          },\n          children: \"Rate Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this)]\n      }, appointment.appointmentId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(Modal, {\n        ariaHideApp: false,\n        isOpen: isModalOpen,\n        onRequestClose: toggleModalHandler,\n        style: customStyles,\n        children: /*#__PURE__*/_jsxDEV(RateAppointment // baseUrl={baseUrl}\n        , {\n          appointment: selectedAppointment,\n          toggleModalHandler: toggleModalHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Appointment, \"2sCT+LgpWYUa350/7dZND02Vx3o=\");\n\n_c = Appointment;\nexport default Appointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Appointment\");","map":{"version":3,"names":["React","useState","useEffect","RateAppointment","Paper","Typography","Button","Modal","setAppElement","document","getElementById","customStyles","content","width","top","left","right","bottom","marginRight","transform","padding","Appointment","isUserLoggedIn","accessToken","sessionStorage","getItem","emailId","userAppointments","setUserAppointments","getUserAppointments","url","fetch","headers","Authorization","then","response","json","selectedAppointment","rawResponse","method","Accept","ok","error","Error","message","e","alert","setSelectedAppointment","isModalOpen","setIsModalOpen","toggleModalHandler","length","map","appointment","doctorName","appointmentDate","symptoms","priorMedicalHistory","appointmentId"],"sources":["/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/appointment/Appointment.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport RateAppointment from \"../appointment/RateAppointment\";\nimport { Paper, Typography, Button } from \"@material-ui/core\";\nimport Modal from \"react-modal\";\n\nModal.setAppElement(document.getElementById(\"root\"));\n\nconst customStyles = {\n  content: {\n    width: \"50%\",\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    padding: \"0px\",\n  },\n};\n\nconst Appointment = ({ isUserLoggedIn }) => {\n  const accessToken = sessionStorage.getItem(\"access-token\");\n  const emailId = sessionStorage.getItem(\"user-id\");\n\n  const [userAppointments, setUserAppointments] = useState([]);\n  const getUserAppointments = async () => {\n    const url = `http://localhost:8080/users/${emailId}/appointments`;\n    // const accessToken = sessionStorage.getItem(\"access-token\");\n    //\n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n      },\n    })\n      .then((response) => response.json())\n      .then((response) => {\n        selectedAppointment([...response]);\n      });\n\n    //\n    try {\n      const rawResponse = await fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      if (rawResponse.ok) {\n        const response = await rawResponse.json();\n        setUserAppointments(response);\n      } else {\n        const error = new Error();\n        error.message = \"Some Error Occurred\";\n        throw error;\n      }\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  useEffect(() => {\n    if (accessToken !== \"\") {\n      getUserAppointments();\n    }\n  }, [emailId]);\n  //////////\n\n  const [selectedAppointment, setSelectedAppointment] = useState(\"\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const toggleModalHandler = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  return (\n    <div>\n      {!isUserLoggedIn ? (\n        <Typography variant=\"h6\" component=\"h5\" className=\"noLoginText\">\n          Login to see appointments\n        </Typography>\n      ) : userAppointments.length === 0 ? (\n        <Typography variant=\"h6\" component=\"h5\" className=\"noLoginText\">\n          No Current Appointments to Show.\n        </Typography>\n      ) : (\n        <div>\n          {userAppointments.map((appointment) => (\n            <Paper\n              className=\"appointmentContainer\"\n              variant=\"elevation\"\n              elevation={3}\n              key={appointment.appointmentId}\n            >\n              <Typography\n                variant=\"h6\"\n                className=\"hasTextBlack\"\n                component=\"h5\"\n                gutterBottom\n              >\n                Dr. {appointment.doctorName}\n              </Typography>\n              <Typography variant=\"body1\" className=\"hasTextBlack\">\n                Date: {appointment.appointmentDate}\n              </Typography>\n              <Typography variant=\"body1\" className=\"hasTextBlack\">\n                Symptoms: {appointment.symptoms}\n              </Typography>\n              <Typography variant=\"body1\" className=\"hasTextBlack\">\n                priorMedicalHistory: {appointment.priorMedicalHistory}\n              </Typography>\n              <br />\n              <br />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setSelectedAppointment(appointment);\n                  toggleModalHandler();\n                }}\n              >\n                Rate Appointment\n              </Button>\n            </Paper>\n          ))}\n          <Modal\n            ariaHideApp={false}\n            isOpen={isModalOpen}\n            onRequestClose={toggleModalHandler}\n            style={customStyles}\n          >\n            <RateAppointment\n              // baseUrl={baseUrl}\n              appointment={selectedAppointment}\n              toggleModalHandler={toggleModalHandler}\n            />\n          </Modal>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Appointment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}