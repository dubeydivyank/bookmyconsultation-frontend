{"ast":null,"code":"var _jsxFileName = \"/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"../../common/header/Header\";\nimport React, { useState, useEffect } from \"react\";\nimport DoctorList from \"../doctorList/DoctorList\";\nimport Appointment from \"../appointment/Appointment\";\nimport { Tab, Tabs } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const emailId = sessionStorage.getItem(\"user-id\");\n  const [value, setValue] = useState(0);\n  const [userAppointments, setUserAppointments] = useState([]);\n\n  const tabSwitchHandler = (event, value) => {\n    setValue(value);\n  }; //SET USER'S LOGIN STATUS\n\n\n  const [IsUserLoggedIn, setIsUserLoggedIn] = useState(false);\n  useEffect(() => {\n    const accessToken = sessionStorage.getItem(\"access-token\");\n\n    if (accessToken) {\n      setIsUserLoggedIn(true);\n    }\n  }, []); //GET APPOINTMENTS\n\n  const getUserAppointments = async () => {\n    // console.log(emailId);\n    const url = `http://localhost:8080/users/${emailId}/appointments`;\n    const accessToken = sessionStorage.getItem(\"access-token\");\n\n    try {\n      const rawResponse = await fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n\n      if (rawResponse.ok) {\n        const response = await rawResponse.json();\n        setUserAppointments(response);\n      } else {\n        const error = new Error();\n        error.message = \"Some Error Occurred\";\n        throw error;\n      }\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  useEffect(() => {\n    if (IsUserLoggedIn === true) {\n      getUserAppointments();\n    }\n  }, [IsUserLoggedIn]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      variant: \"fullWidth\",\n      indicatorColor: \"primary\",\n      value: value,\n      onChange: tabSwitchHandler,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Doctors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        label: \"Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), value === 0 && /*#__PURE__*/_jsxDEV(DoctorList, {\n      getUserAppointments: getUserAppointments,\n      userAppointments: userAppointments\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), value === 1 && /*#__PURE__*/_jsxDEV(Appointment, {\n      userAppointments: userAppointments,\n      IsUserLoggedIn: IsUserLoggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"f23rgYFhE4tdsl9Ap3t/21rqG8M=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Header","React","useState","useEffect","DoctorList","Appointment","Tab","Tabs","Home","emailId","sessionStorage","getItem","value","setValue","userAppointments","setUserAppointments","tabSwitchHandler","event","IsUserLoggedIn","setIsUserLoggedIn","accessToken","getUserAppointments","url","rawResponse","fetch","method","headers","Accept","Authorization","ok","response","json","error","Error","message","e","alert"],"sources":["/Users/divyank/upGrad/Projects/CAPSTONE/Frontend/BookMyConsultationUI/src/screens/home/Home.js"],"sourcesContent":["import Header from \"../../common/header/Header\";\nimport React, { useState, useEffect } from \"react\";\nimport DoctorList from \"../doctorList/DoctorList\";\nimport Appointment from \"../appointment/Appointment\";\nimport { Tab, Tabs } from \"@material-ui/core\";\n\nconst Home = () => {\n  const emailId = sessionStorage.getItem(\"user-id\");\n  const [value, setValue] = useState(0);\n  const [userAppointments, setUserAppointments] = useState([]);\n\n  const tabSwitchHandler = (event, value) => {\n    setValue(value);\n  };\n\n  //SET USER'S LOGIN STATUS\n  const [IsUserLoggedIn, setIsUserLoggedIn] = useState(false);\n  useEffect(() => {\n    const accessToken = sessionStorage.getItem(\"access-token\");\n    if (accessToken) {\n      setIsUserLoggedIn(true);\n    }\n  }, []);\n\n  //GET APPOINTMENTS\n  const getUserAppointments = async () => {\n    // console.log(emailId);\n    const url = `http://localhost:8080/users/${emailId}/appointments`;\n    const accessToken = sessionStorage.getItem(\"access-token\");\n\n    try {\n      const rawResponse = await fetch(url, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      if (rawResponse.ok) {\n        const response = await rawResponse.json();\n        setUserAppointments(response);\n      } else {\n        const error = new Error();\n        error.message = \"Some Error Occurred\";\n        throw error;\n      }\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n  useEffect(() => {\n    if (IsUserLoggedIn === true) {\n      getUserAppointments();\n    }\n  }, [IsUserLoggedIn]);\n\n  return (\n    <div>\n      <Header />\n      <Tabs\n        variant=\"fullWidth\"\n        indicatorColor=\"primary\"\n        value={value}\n        onChange={tabSwitchHandler}\n      >\n        <Tab label=\"Doctors\"></Tab>\n        <Tab label=\"Appointment\"></Tab>\n      </Tabs>\n      {value === 0 && (\n        <DoctorList\n          getUserAppointments={getUserAppointments}\n          userAppointments={userAppointments}\n        />\n      )}\n      {value === 1 && (\n        <Appointment\n          userAppointments={userAppointments}\n          IsUserLoggedIn={IsUserLoggedIn}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}